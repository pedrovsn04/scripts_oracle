REM Este SCRIPT RETORNA O TEXTO COMPLETO DAS DECLARAÇÕES SQL COM 
REM LEITURAS DE DISCO MAIRORES DO QUE TRESHOLT_DISCK_READS 

select	b.sql_text "STATEMENT" , a.disk_reads "DISK READS", a.executions "EXECUTIONS", 
		TRUNC(A.DISK_READS/DECODE(A.EXECUTIONS,0,1,A.EXECUTIONS),2) "RATIO" ,C.USERNAME
FROM 	V$SQLAREA A , V$SQLTEXT_WITH_NEWLINES B , DBA_USERS C
WHERE 	A.PARSING_USER_ID = C.USER_ID
AND   	A.ADDRESS = B.ADDRESS
AND   	A.DISK_READS > &THRESHOLD_DISK_READS
ORDER BY A.DISK_READS DESC ,  B.PIECE
/
